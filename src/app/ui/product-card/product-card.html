<a class="product-card">
  <div class="product-card__media">
    <img *ngIf="product?.imageUrl" [src]="product.imageUrl" [alt]="product.name">
  </div>

  <h3 class="product-card__title">{{ product.name }}</h3>

  <div class="product-card__price">
    {{ product.price | currency:'CLP':'symbol-narrow' }}
  </div>

  <!-- BotÃ³n â€œAGREGARâ€ siempre visible -->
  <button class="btn btn--primary" (click)="add()">AGREGAR</button>

  <!-- Controles de cantidad -->
  <ng-container *ngIf="qty$ | async as q">
    <div class="qty-ctrl">
      <button class="qty-btn" (click)="dec()">-</button>
      <span class="qty-num">{{ q }}</span>
      <button class="qty-btn" (click)="inc()" [disabled]="q >= maxPerSku">+</button>
    </div>
  </ng-container>

  <!-- ðŸ‘‡ AQUÃ VA EL CHAT -->
  <app-chat-widget [product]="product"></app-chat-widget>
</a>
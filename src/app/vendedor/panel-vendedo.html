<div class="panel-vendedor">
    <h1>Panel del vendedor</h1>
    <p class="subtitle">Gestiona tus ventas, retiros, comisiones y mensajes de tus compradores.</p>

    <!-- RESUMEN RÁPIDO -->
    <div class="resumen-grid">
        <mat-card class="resumen-card">
            <h2>Ventas de hoy</h2>
            <p class="resumen-valor">{{ resumen.ventasHoy | number }}</p>
        </mat-card>

        <mat-card class="resumen-card">
            <h2>Ventas del mes</h2>
            <p class="resumen-valor">{{ resumen.ventasMes | currency:'CLP':'symbol':'1.0-0' }}</p>
        </mat-card>

        <mat-card class="resumen-card">
            <h2>Comisiones acumuladas</h2>
            <p class="resumen-valor">{{ resumen.totalComisiones | currency:'CLP':'symbol':'1.0-0' }}</p>
        </mat-card>

        <mat-card class="resumen-card saldo">
            <h2>Saldo disponible</h2>
            <p class="resumen-valor">{{ resumen.saldoDisponible | currency:'CLP':'symbol':'1.0-0' }}</p>
            <button mat-raised-button color="primary">Solicitar retiro</button>
        </mat-card>
    </div>

    <!-- SECCIONES PRINCIPALES -->
    <mat-tab-group class="tabs">
        <!-- Ventas -->
        <mat-tab label="Ventas">
            <div class="section">
                <h2>Ventas recientes</h2>
                <table mat-table [dataSource]="ventas" class="mat-elevation-z2 full-table">
                    <!-- ID -->
                    <ng-container matColumnDef="id">
                        <th mat-header-cell *matHeaderCellDef>#</th>
                        <td mat-cell *matCellDef="let row">{{ row.id }}</td>
                    </ng-container>

                    <!-- Producto -->
                    <ng-container matColumnDef="producto">
                        <th mat-header-cell *matHeaderCellDef>Producto</th>
                        <td mat-cell *matCellDef="let row">{{ row.producto }}</td>
                    </ng-container>

                    <!-- Fecha -->
                    <ng-container matColumnDef="fecha">
                        <th mat-header-cell *matHeaderCellDef>Fecha</th>
                        <td mat-cell *matCellDef="let row">{{ row.fecha }}</td>
                    </ng-container>

                    <!-- Total -->
                    <ng-container matColumnDef="total">
                        <th mat-header-cell *matHeaderCellDef>Total</th>
                        <td mat-cell *matCellDef="let row">{{ row.total | currency:'CLP':'symbol':'1.0-0' }}</td>
                    </ng-container>

                    <!-- Estado -->
                    <ng-container matColumnDef="estado">
                        <th mat-header-cell *matHeaderCellDef>Estado</th>
                        <td mat-cell *matCellDef="let row">{{ row.estado }}</td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="['id','producto','fecha','total','estado']"></tr>
                    <tr mat-row *matRowDef="let row; columns: ['id','producto','fecha','total','estado'];"></tr>
                </table>
            </div>
        </mat-tab>

        <!-- Retiros y comisiones -->
        <mat-tab label="Retiros / Comisiones">
            <div class="section section-split">
                <div class="sub-section">
                    <h2>Historial de retiros</h2>
                    <table mat-table [dataSource]="retiros" class="mat-elevation-z2 full-table">
                        <ng-container matColumnDef="id">
                            <th mat-header-cell *matHeaderCellDef>#</th>
                            <td mat-cell *matCellDef="let row">{{ row.id }}</td>
                        </ng-container>

                        <ng-container matColumnDef="fecha">
                            <th mat-header-cell *matHeaderCellDef>Fecha</th>
                            <td mat-cell *matCellDef="let row">{{ row.fecha }}</td>
                        </ng-container>

                        <ng-container matColumnDef="monto">
                            <th mat-header-cell *matHeaderCellDef>Monto</th>
                            <td mat-cell *matCellDef="let row">{{ row.monto | currency:'CLP':'symbol':'1.0-0' }}</td>
                        </ng-container>

                        <ng-container matColumnDef="estado">
                            <th mat-header-cell *matHeaderCellDef>Estado</th>
                            <td mat-cell *matCellDef="let row">{{ row.estado }}</td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="['id','fecha','monto','estado']"></tr>
                        <tr mat-row *matRowDef="let row; columns: ['id','fecha','monto','estado'];"></tr>
                    </table>
                </div>

                <div class="sub-section">
                    <h2>Resumen de comisiones</h2>
                    <p>Pronto aquí podemos mostrar detalle por producto o por periodo.</p>
                </div>
            </div>
        </mat-tab>

        <!-- Mensajes -->
        <mat-tab label="Mensajes">
            <div class="section">
                <h2>Mensajes de compradores</h2>
                <table mat-table [dataSource]="mensajes" class="mat-elevation-z2 full-table">
                    <ng-container matColumnDef="de">
                        <th mat-header-cell *matHeaderCellDef>De</th>
                        <td mat-cell *matCellDef="let row">{{ row.de }}</td>
                    </ng-container>

                    <ng-container matColumnDef="asunto">
                        <th mat-header-cell *matHeaderCellDef>Asunto</th>
                        <td mat-cell *matCellDef="let row">{{ row.asunto }}</td>
                    </ng-container>

                    <ng-container matColumnDef="fecha">
                        <th mat-header-cell *matHeaderCellDef>Fecha</th>
                        <td mat-cell *matCellDef="let row">{{ row.fecha }}</td>
                    </ng-container>

                    <ng-container matColumnDef="leido">
                        <th mat-header-cell *matHeaderCellDef>Leído</th>
                        <td mat-cell *matCellDef="let row">
                            {{ row.leido ? 'Sí' : 'No' }}
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="['de','asunto','fecha','leido']"></tr>
                    <tr mat-row *matRowDef="let row; columns: ['de','asunto','fecha','leido'];"></tr>
                </table>
            </div>
        </mat-tab>

        <!-- Reclamos -->
        <mat-tab label="Reclamos">
            <div class="section">
                <h2>Reclamos de compradores</h2>
                <table mat-table [dataSource]="reclamos" class="mat-elevation-z2 full-table">
                    <ng-container matColumnDef="id">
                        <th mat-header-cell *matHeaderCellDef>#</th>
                        <td mat-cell *matCellDef="let row">{{ row.id }}</td>
                    </ng-container>

                    <ng-container matColumnDef="comprador">
                        <th mat-header-cell *matHeaderCellDef>Comprador</th>
                        <td mat-cell *matCellDef="let row">{{ row.comprador }}</td>
                    </ng-container>

                    <ng-container matColumnDef="motivo">
                        <th mat-header-cell *matHeaderCellDef>Motivo</th>
                        <td mat-cell *matCellDef="let row">{{ row.motivo }}</td>
                    </ng-container>

                    <ng-container matColumnDef="fecha">
                        <th mat-header-cell *matHeaderCellDef>Fecha</th>
                        <td mat-cell *matCellDef="let row">{{ row.fecha }}</td>
                    </ng-container>

                    <ng-container matColumnDef="estado">
                        <th mat-header-cell *matHeaderCellDef>Estado</th>
                        <td mat-cell *matCellDef="let row">{{ row.estado }}</td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="['id','comprador','motivo','fecha','estado']"></tr>
                    <tr mat-row *matRowDef="let row; columns: ['id','comprador','motivo','fecha','estado'];"></tr>
                </table>
            </div>
        </mat-tab>
    </mat-tab-group>
</div>